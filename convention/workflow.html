<!--
/**
 * Web前端工作流指南
 *
 * 此文档用于描述前端项目的工作流程
 *
 * @author 董经伟
 * @create 2014-05-28
 * @update 2014-06-25
 *
 * TODO: 收集、整理
 */
-->

<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link rel="shortcut icon" href="./asset/img/favicon_03.png" type="image/x-icon">
  <title>Web前端工作流指南</title>
  <link rel="stylesheet" href="./asset/css/main.css">
  <script src="./asset/js/scrollSpy.js"></script>
  <script src="./asset/js/main.js"></script>
</head>

<body class="page-workflow">

  <a href="#header" class="sr-only">跳过导航</a>

  <nav class="toc">
    <a class="logo" href="#" title="Web前端工作流指南">♨</a>
    <ul class="menu">
      <li class="menu-item">
        <a href="#environment" data-target="environment">环境</a>
        <ul class="menu-sub">
          <li><a href="#"></a></li>
        </ul>
      </li>
      <li class="menu-item">
        <a href="#init" data-target="init">初始化</a>
        <ul class="menu-sub">
          <li><a href="#html-doctype"></a></li>
        </ul>
      </li>
      <li class="menu-item">
        <a href="#build" data-target="build">构建</a>
        <ul class="menu-sub">
        </ul>
      </li>
      <li class="menu-item">
        <a href="#test" data-target="test">测试</a>
        <ul class="menu-sub">
        </ul>
      </li>
      <li class="menu-item">
        <a href="#release" data-target="release">发布</a>
        <ul class="menu-sub">
        </ul>
      </li>
      <li class="menu-item menu-other">
        <a href="javascript:;">其他规范</a>
        <ul class="menu-sub">
          <li class="title-codestyle"><a href="codestyle.html" target="_blank">✍ Web前端代码风格指南</a></li>
          <li class="title-practice"><a href="practice.html" target="_blank">☜ Web前端编程实践指南</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <header class="masthead" id="header">
    <div class="container">
      <h1>Web前端工作流指南<sup><small>（草稿）</small></sup></h1>
      <p class="lead">前端项目的 开发流程、自动化 和 相关工具</p>
    </div>
  </header>

  <div class="section" id="golden-rule">
    <div class="col">
      <h2>前言</h2>
      <p>所有的大型（和许多小型的）Web 应用都依赖于自动化工具来处理它们项目中的文件。对于代码的可维护性来说，这是非常重要的一步。</p>
      <p>使用自动化构建系统的优点如下：</p>
      <ul>
        <li>本地的源代码不必同生产环境上保持一致，所以可以任意组织代码结构而不必担心在服务器上的代码是否需要优化。</li>
        <li>在部署之前有多种方式处理文件，比如合并和压缩。</li>
        <li>静态分析可以自动发现错误。</li>
        <li>通过自动化测试可以很容易地发现问题。</li>
        <li>很方便地自动部署到生产环境。</li>
        <li>轻松快速地重新执行常见任务。</li>
      </ul>
      <p>它也会带来一些弊端：</p>
      <ul>
        <li>在开发环境的每次改动</li>
        <li>被部署到生产环境的代码看起来并不像开发环境的代码，使得很难定位线上的 Bug。</li>
        <li>技术水平偏低的开发人员使用构建系统可能会遇到问题。</li>
      </ul>
      <p>总的来说，使用自动化的好处远远大于坏处。</p>
    </div>
    <div class="col">
      <blockquote>
        <br>
        <br>
        <p>“我相当乐意花一整天的时间通过编程把一个任务实现自动化，除非这个任务手动只需要 10 秒钟就能完成。” —— Douglas Adams</p>
        <br>
      </blockquote>
    </div>
  </div>



  <div class="heading" id="environment">
    <h2>开发环境</h2>
  </div>
  <div class="section" id="environment-os">
    <div class="col">
      <h4>操作系统</h4>
      <p>最好能使用 Windows7（64 bit），并熟练使用其 <a href="http://windows.microsoft.com/zh-cn/windows/keyboard-shortcuts#keyboard-shortcuts=windows-7" target="_blank">快捷键</a>。</p>
    </div>
  </div>
  <div class="section" id="environment-directory">
    <div class="col">
      <h4>文件目录</h4>
      <p>设置一个盘（通常是 D 盘）专门存放工作相关的软件和代码，工作文档之类的文件应另设一个盘（比如 E 盘）。</p>
      <ul>
        <li>文件夹/文件统一使用英文命名。</li>
        <li>开发软件放在 Develop 里。</li>
        <li>项目源码放在 Project 里。其下按平台分类，比如 PHP、Andriod、Node 等，再下一级就是具体的项目。</li>
        <li>普通软件安装在 Program Files 里，根据需要可以新增其他分类，比如 Browser、Product、Design等。</li>
      </ul>
      <p>最好能够不定时删除一些不必要的软件及文件，这样可以使注意力更加集中。</p>
    </div>
    <div class="col highlight">
      <pre>
<code class="html">
  <span class="cp">DEV(D:)</span>
    <span class="nt">Develop</span> <span class="c"> ----------- ! 开发软件</span>
      <span class="na">Wamp</span>
      <span class="na">Git</span>
      <span class="na">...</span>
    <span class="nt">Project</span> <span class="c"> ----------- ! 项目源码</span>
      <span class="na">Android</span>
        <span class="s">Cordova</span>
      <span class="na">PHP</span>
        <span class="s">Convention</span>
      <span class="c">...</span>
    <span class="nt">Program Files</span> <span class="c"> ----- 普通软件</span>
      <span class="na">Evenote</span>
      <span class="na">Tencent</span>
      <span class="c">...</span>
    <span class="nt">Design</span> <span class="c"> ------------ 设计软件</span>
      <span class="na">Adobe</span>
      <span class="c">...</span>
    <span class="nt">Browser</span> <span class="c"> ----------- 浏览器</span>
      <span class="na">Chrome</span>
      <span class="na">Firefox</span>
      <span class="c">...</span>
</code>
      </pre>
    </div>
  </div>
  <div class="section" id="environment-server">
    <div class="col">
      <h4>服务器</h4>
      <ul>
        <li><a href="http://www.wampserver.com/en/" target="_blank">WAMP</a>（Windows, Apache + Mysql + PHP）。</li>
        <li><a href="http://nodejs.org/" target="_blank">Node.js</a>。</li>
      </ul>
    </div>
    <div class="col highlight">
      <pre>
<code class="php">
  <span class="c">/* Change the www directory of WAMP</span>
  <span class="c"> *</span>
  <span class="c"> * (/Wamp/scripts/config.inc.php)</span>
  <span class="c"> */</span>
  <span class="nx">$wwwDir</span> <span class="o">=</span> <span class="s2">"your/project/dir"</span><span class="p">;</span>

  <span class="c">/* Change global module directory of Node.js</span>
  <span class="c"> *</span>
  <span class="c"> * (cmd)</span>
  <span class="c"> */</span>
  npm config set
</code>
      </pre>
    </div>
  </div>
  <div class="section" id="environment-">
    <div class="col">
      <h4>代码管理</h4>
      <p>目前使用 <a href="http://tortoisesvn.net/" target="_blank">TortioseSVN</a>。</p>
      <ul>
        <li>Check out。</li>
      </ul>
      <p>另外，有兴趣可以了解一下 <a href="http://git-scm.com/" target="_blank">Git</a>。</p>
    </div>
  </div>
  <div class="section" id="environment-editor">
    <div class="col">
      <h4>编辑器</h4>
      <p>请使用 <a href="http://www.sublimetext.com/" target="_blank">Sublime Text</a> 编写代码。</p>
      <ul>
        <li>安装 <a href="https://sublime.wbond.net/installation#st2" target="_blank">Package Control</a>。</li>
        <li>安装 Emmet，并熟练使用其 <a href="http://docs.emmet.io/cheat-sheet/" target="_blank">快捷键</a>。</li>
        <li>安装 DocBlockr（<a href="http://usejsdoc.org/" target="_blank">JsDoc</a>）。</li>
        <li>推荐主题：“Theme - Soda”、“Theme - Flatland”。</li>
        <li>更改关于代码风格的个人配置（Preferences > Settings - User）。</li>
      </ul>
    </div>
    <div class="col highlight">
      <pre>
<code class="js">
  <span class="c">/* Settings - User */</span>
  <span class="p">{</span>
    <span class="nt">"rulers"</span><span class="p">:</span> <span class="p">[</span><span class="mi">80</span><span class="p">],</span>
    <span class="nt">"tab_size"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">"word_wrap"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">"translate_tabs_to_spaces"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"ensure_newline_at_eof_on_save"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"trim_trailing_white_space_on_save"</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
</code>
      </pre>
    </div>
  </div>
  <div class="section" id="environment-browser">
    <div class="col">
      <h4>浏览器</h4>
      <p>请安装 <a href="http://www.google.cn/intl/zh-CN/chrome/browser/" target="_blank">Chrome</a>，使用其 <a href="https://developer.chrome.com/devtools/index" target="_blank">Devtools</a> 进行调试，并熟练使用其 <a href="https://support.google.com/chrome/answer/157179?hl=zh-Hans" target="_blank">快捷键</a>。</p>
    </div>
  </div>



  <div class="heading" id="init">
    <h2>初始化</h2>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>项目结构</h4>
    </div>
    <div class="col highlight">
      <pre>
<code class="html">
  <span class="na">PHP(www)</span>
    <span class="s">AppName</span>
      <span class="">.htaccess</span>
      <span class="">.editorconfig</span>
      <span class="">favicon.ico</span>
      <span class="">robots.txt</span>
      <span class="nt">src</span>
        <span class="nt">asset</span>
          <span class="n">lib</span>
          <span class="n">css</span>
          <span class="n">js</span>
          <span class="n">img</span>
          <span class="n">font</span>
        <span class="nt">html</span>
      <span class="nt">build</span>
        <span class="n">lib</span>
        <span class="n">css</span>
        <span class="n">js</span>
        <span class="n">img</span>
        <span class="n">font</span>
      <span class="nt">doc</span>
        <span class="">readme.md</span>
</code>
      </pre>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>Yeoman</h4>
      <ul>
        <li>YO</li>
        <li>Bower</li>
        <li>Grunt</li>
      </ul>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>Bower</h4>
    </div>
    <div class="col highlight">
      <pre>
<code class="text">
  <span class="c"># Search for a dependency in the Bower registry.</span>
  <span class="p">bower search</span> <span class="s">&lt;dep&gt;</span>

  <span class="c"># Install one or more dependencies.</span>
  <span class="p">bower install</span> <span class="s">&lt;dep&gt;..&lt;depN&gt;</span>

  <span class="c"># List out the dependencies you have installed for a project.</span>
  <span class="p">bower list</span>

  <span class="c"># Update a dependency to the latest version available.</span>
  <span class="p">bower update</span> <span class="s">&lt;dep&gt;</span>
</code>
      </pre>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>UI 框架</h4>
      <ul>
        <li>Bootstrap</li>
        <li>Pure</li>
      </ul>
    </div>
  </div>



  <div class="heading" id="build">
    <h2>构建</h2>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>Grunt</h4>
    </div>
    <div class="col highlight">
      <pre>
<code class="text">
  <span class="c"># Preview an app you have generated (with Livereload).</span>
  <span class="p">grunt serve</span>

  <span class="c"># Run the unit tests for an app.</span>
  <span class="p">grunt test</span>

  <span class="c"># Build an optimized, production-ready version of your app.</span>
  <span class="p">grunt</span>
</code>
      </pre>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>文件合并和加工</h4>
      <pre>
  JS合并
  JS压缩
  CSS压缩
  CSS Sprite
  图片优化
  Gzip
  请求合并
  静态资源缓存(版本更新)

  JSHint
  CSSLint
  Jade
  CoffeeScript
  RequireJS/SeaJS
  Compass/Stylus/Less
  QUnit/Mocha/Jasmine
      </pre>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>文件精简和压缩</h4>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>文档化</h4>
    </div>
  </div>



  <div class="heading" id="test">
    <h2>测试</h2>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>自动化测试</h4>
    </div>
  </div>



  <div class="heading" id="release">
    <h2>发布</h2>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>CI 系统</h4>
    </div>
  </div>
  <div class="section" id="css-editor-prefs">
    <div class="col">
      <h4>打包与发布</h4>
    </div>
  </div>



  <footer class="footer">
    <h3>References</h3>
    <div class="footer-wrap">
      <p class="ref" id="ref[1]">
        <span class="ref-num">[1]</span>
        <a href="http://www.tychio.net/tech/2013/09/25/improve-workflow.html" target="_blank">改进我的Workflow</a> —
        <a class="ref-author" href="http://www.tychio.net/" target="_blank">@Tychio</a>
      </p>
    </div>
    <div class="footer-wrap">
      <p class="ref" id="ref[2]">
        <span class="ref-num">[2]</span>
        <a href="https://speakerdeck.com/hzlzh/webrebuild-2013-yi-dong-zhong-duan-zhong-gou-workflow" target="_blank">移动终端重构Workflow</a> —
        <a class="ref-author" href="http://hzlzh.io/" target="_blank">@hzlzh</a>
      </p>
    </div>
  </footer>

</body>
</html>
